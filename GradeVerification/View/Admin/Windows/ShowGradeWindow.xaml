<Window x:Class="GradeVerification.View.Admin.Windows.ShowGradeWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        mc:Ignorable="d"
        Title="Student Grades" Height="800" Width="700"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None" AllowsTransparency="True" Background="Transparent">

    <Grid x:Name="MainGrid">
        <Border CornerRadius="10" Background="White" Padding="15" Margin="0">
            <Border.Effect>
                <DropShadowEffect Color="Black" BlurRadius="10" ShadowDepth="2" Opacity="0.3"/>
            </Border.Effect>

            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- School Information -->
                <Border Background="#2E7D32" Padding="10" Grid.Row="0">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <!-- Logo -->
                        <Image Source="/Resources/umlogo.png" Width="70" Height="70" Grid.Column="0" Margin="5"/>

                        <!-- School Name and Details -->
                        <StackPanel Grid.Column="1" VerticalAlignment="Center">
                            <TextBlock Text="The University of Manila" FontSize="20" FontWeight="Bold" Foreground="White"/>
                            <TextBlock Text="546 Mariano V. delos Santos Street, Sampaloc Manila, Philippines 1008" FontSize="12" Foreground="White"/>
                        </StackPanel>

                        <!-- Contact Info -->
                        <StackPanel Grid.Column="2" HorizontalAlignment="Right" VerticalAlignment="Center">
                            <TextBlock Text="Contact: 8735-5085" FontSize="12" Foreground="White"/>
                            <TextBlock Text="Website: http://www.um.edu.ph" FontSize="12" Foreground="White"/>
                            <TextBlock Text="Email: umnla.edu.ph@gmail.com" FontSize="12" Foreground="White"/>
                        </StackPanel>
                    </Grid>
                </Border>

                <!-- Header -->
                <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="10">
                    <TextBlock Text="Student Grades" FontSize="22" FontWeight="Bold" Foreground="#2E7D32"/>
                </StackPanel>

                <!-- Student Information Section -->
                <Border Grid.Row="2" Background="#F1F8E9" CornerRadius="5" Padding="10" Margin="10">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="1*"/>
                            <ColumnDefinition Width="1*"/>
                        </Grid.ColumnDefinitions>

                        <!-- Left Column -->
                        <StackPanel Grid.Column="0" Margin="0,0,10,0">
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                                <TextBlock Text="Full Name:" FontWeight="Bold" Foreground="#388E3C" Margin="0,0,10,0"/>
                                <TextBlock Text="{Binding Student.FullName}"/>
                            </StackPanel>

                            <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                                <TextBlock Text="School ID:" FontWeight="Bold" Foreground="#388E3C" Margin="0,0,10,0"/>
                                <TextBlock Text="{Binding Student.SchoolId}"/>
                            </StackPanel>

                            <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                                <TextBlock Text="Program:" FontWeight="Bold" Foreground="#388E3C" Margin="0,0,10,0"/>
                                <TextBlock Text="{Binding Student.AcademicProgram.ProgramCode}"/>
                            </StackPanel>
                        </StackPanel>

                        <!-- Right Column -->
                        <StackPanel Grid.Column="1">
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                                <TextBlock Text="Year:" FontWeight="Bold" Foreground="#388E3C" Margin="0,0,10,0"/>
                                <TextBlock Text="{Binding Student.Year}"/>
                            </StackPanel>

                            <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                                <TextBlock Text="Semester:" FontWeight="Bold" Foreground="#388E3C" Margin="0,0,10,0"/>
                                <TextBlock Text="{Binding Student.Semester}"/>
                            </StackPanel>
                            
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                                <TextBlock Text="Date:" FontWeight="Bold" Foreground="#388E3C" Margin="0,0,10,0"/>
                                <TextBlock Text="{Binding CurrentDate}" Margin="0,0,10,0"/>
                            </StackPanel>
                            
                        </StackPanel>
                    </Grid>
                </Border>

                <!-- Grades DataGrid -->
                <Border Grid.Row="3" Background="White" CornerRadius="5" Padding="10" Margin="10">
                        <DataGrid ItemsSource="{Binding Grades}" Margin="0"
                                  Style="{StaticResource DataGridStyle1}"
                                  RowStyle="{DynamicResource DataGridRowStyle1}"
                                  ColumnHeaderStyle="{DynamicResource DataGridColumnHeaderStyle1}"
                                  CellStyle="{DynamicResource DataGridCellStyle1}"
                                  AutoGenerateColumns="False" IsReadOnly="True"
                                  Height="400">
                            <!-- Increased height to display all grades -->
                            <DataGrid.Columns>
                            <DataGridTextColumn Header="Subject" FontSize="15" Binding="{Binding Subject.SubjectCode}" Width="*"/>
                            <DataGridTextColumn Header="Schedule" FontSize="15" Binding="{Binding Subject.Schedule}" Width="*"/>
                            <DataGridTextColumn Header="Professor" FontSize="15" Binding="{Binding Subject.Professor}" Width="*"/>

                                <DataGridTemplateColumn Header="Grade" Width="*">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock FontSize="15" Text="{Binding Score}"
                                                       Style="{StaticResource GradeTextBlockStyle}" 
                                                       Padding="0"/>
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                            </DataGrid.Columns>
                        </DataGrid>
                </Border>

                <!-- Buttons -->
                <StackPanel Grid.Row="4" Orientation="Horizontal" HorizontalAlignment="Right" Margin="10">
                    <Button Content="Print" Width="100" Height="40"
                            Command="{Binding PrintCommand}" 
                            CommandParameter="{Binding ElementName=MainGrid}"
                            Style="{StaticResource MaterialDesignRaisedButton}"
                            Margin="0,0,10,0"/>
                    <Button Content="Close" Width="100" Height="40"
                            Command="{Binding CloseCommand}" 
                            Style="{StaticResource MaterialDesignRaisedButton}"/>
                </StackPanel>

            </Grid>
        </Border>
    </Grid>
</Window>